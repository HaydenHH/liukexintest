import{G as e,P as t,a as s,A as i,S as o,b as n,W as r,c as a,C as c,d as l,e as h,f as m,g as d,R as g,U as w,h as b,o as p,i as v,w as u,v as S,j as y,n as f,k as O,l as j,m as E}from"./vendor.771c764d.js";import{OrbitControls as N}from"https://threejsfundamentals.org/threejs/resources/threejs/r132/examples/jsm/controls/OrbitControls.js";import"https://threejsfundamentals.org/threejs/../3rdparty/dat.gui.module.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const I={data:()=>({introshow:!0,panel1Show:!0,bg1Show:!1,bg2Show:!1,bg3Show:!1,bg4Show:!1,bg5Show:!1,bg6Show:!1,coverShow:!1,cover2Show:!1,cover3Show:!1,cover4Show:!1,cover5Show:!1,cover6Show:!1,redLight:null}),methods:{loadGLTF(){(new e).load("./public/proj5.glb",function(e){console.log("loaded"),this.scene.add(e.scene),console.log(e),this.redLight=new t(15993672),new s(this.redLight),this.redLight.intensity=3,this.scene.add(this.redLight),console.log(this.scene.getObjectByName("redLight")),this.scene.getObjectByName("cover").material.emissiveIntensity=0,this.scene.getObjectByName("cover2").material.emissiveIntensity=0,this.scene.getObjectByName("cover3").material.emissiveIntensity=0,this.scene.getObjectByName("cover4").material.emissiveIntensity=0,this.scene.getObjectByName("cover5").material.emissiveIntensity=0,this.scene.getObjectByName("cover6").material.emissiveIntensity=0;const o=this.scene.getObjectByName("machine");this.mixer=new i(o),this.clips=e.animations,console.log(this.clips),this.clips.forEach(function(e){this.mixer.clipAction(e).play()}.bind(this))}.bind(this))},closeAll(){this.bg1Show=!1},initScene(){this.scene=new o,console.log(window.innerHeight,window.innerWidth);const e=window.innerWidth/window.innerHeight;this.camera=new n(50,e,.1,500),this.renderer=new r({alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=a,document.querySelector("#app").appendChild(this.renderer.domElement),this.clock=new c;const t=new l(16777215,1.5,50,.5,1);new h(t,1);const s=new m(65535,0);t.castShadow=!0,t.position.y=5,t.position.x=3,t.position.z=.5,this.scene.add(t,s);const i=new d(this.renderer);i.compileEquirectangularShader(),(new g).setDataType(w).load("./public/bg.hdr",(e=>{const t=i.fromEquirectangular(e).texture;i.dispose(),this.scene.environment=t})),this.controls=new N(this.camera,this.renderer.domElement),this.controls.update(),this.camController=new b,this.camera.position.z=10,this.camController.position.z=10,this.camera.zoom=1,this.camController.add(this.camera),this.scene.add(this.camController),this.renderer.render(this.scene,this.camera),this.loadGLTF(),this.animate()},lightOn(){let e=this.redLight.color;console.log(e),new TWEEN.Tween(e).to({r:20/244,g:1,b:20/244},500).easing(TWEEN.Easing.Quadratic.Out).onUpdate((()=>{setTimeout((()=>{this.lightOff()}),1e3)})).onComplete((()=>{})).start()},lightOff(){let e=this.redLight.color;console.log(e),new TWEEN.Tween(e).to({r:1,g:11/244,b:72/244},500).easing(TWEEN.Easing.Quadratic.Out).onUpdate((()=>{})).onComplete((()=>{})).start()},camMove(){let e={z:10,zoom:.1};console.log(TWEEN),new TWEEN.Tween(e).to({z:-5,zoom:1},5e3).easing(TWEEN.Easing.Quadratic.Out).onUpdate((()=>{this.camController.position.z=e.z})).onComplete((()=>{this.panel1Show=!0})).start()},animate(e){let t=this.scene.getObjectByName("cover"),s=this.scene.getObjectByName("cover2"),i=this.scene.getObjectByName("cover3"),o=this.scene.getObjectByName("cover4"),n=this.scene.getObjectByName("cover5"),r=this.scene.getObjectByName("cover6");this.mixer&&this.mixer.update(this.clock.getDelta()),t&&this.coverShow?t.material.emissiveIntensity=1:t&&(t.material.emissiveIntensity=0),s&&this.cover2Show?s.material.emissiveIntensity=1:s&&(s.material.emissiveIntensity=0),i&&this.cover3Show?i.material.emissiveIntensity=1:i&&(i.material.emissiveIntensity=0),o&&this.cover4Show?o.material.emissiveIntensity=1:o&&(o.material.emissiveIntensity=0),n&&this.cover5Show?n.material.emissiveIntensity=1:n&&(n.material.emissiveIntensity=0),r&&this.cover6Show?r.material.emissiveIntensity=1:r&&(r.material.emissiveIntensity=0),requestAnimationFrame(this.animate),TWEEN.update(),this.controls.update(),this.camera.updateProjectionMatrix(),this.renderer.render(this.scene,this.camera)}},mounted(){this.initScene()}},C={src:"/assets/bg1.1dc4cedd.png",alt:"",class:"bg1"},T={src:"/assets/bg2.2694942a.png",alt:"",class:"bg2"},B={class:"bg3"},L={src:"/assets/bg4.84647ee6.png",alt:"",class:"bg4"},k={src:"/assets/bg5.3adee6cd.png",alt:"",class:"bg5"},W={src:"/assets/bg6.d7a800aa.png",alt:"",class:"bg6"},z={class:"panel-box"},x=[O(" Do you remember you left someone on the internet some mean comments for his ‘immoral’ behavior? "),y("br",null,null,-1),O(" It turns out that this was only rumor, and the person is totally innocent… "),y("br",null,null,-1),O(" Here we have an apology machine, where you can buy some stuff to make up for the victim! ")];I.render=function(e,t,s,i,o,n){return p(),v("div",null,[u(y("img",C,null,512),[[S,o.bg1Show]]),u(y("img",T,null,512),[[S,o.bg2Show]]),u(y("div",B,null,512),[[S,o.bg3Show]]),u(y("img",L,null,512),[[S,o.bg4Show]]),u(y("img",k,null,512),[[S,o.bg5Show]]),u(y("img",W,null,512),[[S,o.bg6Show]]),y("div",z,[u(y("div",{class:"desc",onClick:t[0]||(t[0]=()=>{o.introshow=!1,n.camMove()})},x,512),[[S,o.introshow]]),y("div",{class:f(["glowing",{"panel1-show":o.panel1Show,"panel1-hide":!o.panel1Show}])},null,2),y("div",{class:f(["panel",{"panel1-show":o.panel1Show,"panel1-hide":!o.panel1Show}])},[y("div",{class:"btn",id:"btn1",onClick:t[1]||(t[1]=()=>{o.bg1Show=!o.bg1Show,o.coverShow=!o.coverShow,n.lightOn()})}),y("div",{class:"btn",id:"btn2",onClick:t[2]||(t[2]=()=>{o.bg2Show=!o.bg2Show,o.cover2Show=!o.cover2Show,n.lightOn()})}),y("div",{class:"btn",id:"btn3",onClick:t[3]||(t[3]=()=>{o.bg3Show=!o.bg3Show,o.cover3Show=!o.cover3Show,n.lightOn()})}),y("div",{class:"btn",id:"btn4",onClick:t[4]||(t[4]=()=>{o.bg4Show=!o.bg4Show,o.cover4Show=!o.cover4Show,n.lightOn()})}),y("div",{class:"btn",id:"btn5",onClick:t[5]||(t[5]=()=>{o.bg5Show=!o.bg5Show,o.cover5Show=!o.cover5Show,n.lightOn()})}),y("div",{class:"btn",id:"btn6",onClick:t[6]||(t[6]=()=>{o.bg6Show=!o.bg6Show,o.cover6Show=!o.cover6Show,n.lightOn()})})],2)])])};E({setup:e=>(e,t)=>(p(),j(I))}).mount("#app");
